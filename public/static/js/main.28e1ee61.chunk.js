(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(1),i=n.n(c),l=n(31),r=n.n(l),a=n(2),o=n(32),j=n.n(o);n(70);function d(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),i=n[0],l=n[1];return Object(c.useEffect)((function(){e.socket.on("online",(function(e){l(e)}))})),Object(s.jsxs)("div",{class:"header",children:[Object(s.jsx)("div",{class:"menu",children:Object(s.jsx)("i",{class:"far fa-bars"})}),Object(s.jsxs)("div",{class:"name",children:["Xin Ch\xe0o : ",Object(s.jsx)("span",{style:{fontWeight:"bold",color:"yellow"},children:e.user})," ( ",null!=i&&i.length," online )"]})]})}var u=n(33),b=n.n(u);function h(e){var t=e.socket,n=e.data.user,i=e.data.id,l=Object(c.useState)(!1),r=Object(a.a)(l,2),o=r[0],j=r[1],d=Object(c.useState)([]),u=Object(a.a)(d,2),h=u[0],f=u[1],O=Object(c.useState)(0),x=Object(a.a)(O,2),p=x[0],g=x[1],v=Object(c.useState)(!1),m=Object(a.a)(v,2),k=m[0],y=m[1],C=Object(c.useState)(window.innerHeight-150),S=Object(a.a)(C,2),T=S[0],w=S[1],N=n[0].id+"|"+n[1].id,E=i[0]==t.id?i[1]:i[0],H=b()("#main");return Object(c.useEffect)((function(){t.on("chat",(function(e){f(e.list),H.scrollTop(H.prop("scrollHeight"))}))})),Object(c.useEffect)((function(){t.on("dis",(function(e){e==E&&(h.push({user:"center",mes:"Ng\u01b0\u1eddi \u1ea4y \u0110\xe3 Tho\xe1t"}),f(h),H.scrollTop(H.prop("scrollHeight")),j(!0))}))})),Object(c.useEffect)((function(){t.on("sending",(function(){y(!0)})),t.on("dissend",(function(){y(!1)}))})),window.onresize=function(e){w(this.innerHeight-150),H.scrollTop(H.prop("scrollHeight"))},Object(s.jsxs)("div",{class:"room",children:[Object(s.jsxs)("div",{class:"bar",children:[Object(s.jsxs)("span",{class:"back",children:[" ",Object(s.jsx)("i",{class:"fas fa-long-arrow-left"})," "]})," ",Object(s.jsxs)("span",{class:"name",children:["Chat V\u1edbi : ",n[0].user==e.user?n[1].user:n[0].user]})]}),Object(s.jsxs)("div",{id:"main",class:"main",style:{height:T+"px"},children:[h.map((function(t){return Object(s.jsx)("div",{class:"lm",children:"center"==t.user?Object(s.jsx)("div",{class:"center",children:t.mes}):Object(s.jsx)("div",{class:t.user==e.user?"right":"left",children:"like"==t.mes?Object(s.jsx)("i",{class:"fal fa-thumbs-up"}):t.mes})})})),k&&Object(s.jsx)("div",{class:"lm",children:Object(s.jsx)("div",{class:"left",children:Object(s.jsxs)("div",{class:"spinner",children:[Object(s.jsx)("div",{class:"bounce1"}),Object(s.jsx)("div",{class:"bounce2"}),Object(s.jsx)("div",{class:"bounce3"})]})})})]}),Object(s.jsx)("div",{class:"form",children:o?Object(s.jsx)("button",{class:"cannel",onClick:function(){t.emit("disroom",E),e.setCall()},children:"Nh\u1ea5n \u0110\u1ec3 Tho\xe1t"}):Object(s.jsxs)("div",{class:"fl",children:[Object(s.jsx)("input",{type:"text",onChange:function(){return t.emit("sending",E)},placeholder:"Nh\u1eadp N\u1ed9i Dung ...",onKeyPress:function(n){if("Enter"===n.key){t.emit("dissend",E);var s=n.target.value;n.target.value="",g(p+1),H.scrollTop(H.prop("scrollHeight")),t.emit("chat",N,{user:e.user,mes:s})}}}),Object(s.jsx)("span",{class:"like",onClick:function(){t.emit("chat",N,{user:e.user,mes:"like"})},children:Object(s.jsx)("i",{class:"fal fa-thumbs-up"})})]})})]})}function f(e){var t=e.socket,n={alert:{padding:"15px"},find:{padding:"10px 20px",border:"1px solid blue",borderRadius:"10px",background:"none",outline:"none",fontSize:"20px",fontWeight:"500"},info:{fontWeight:"600",margin:"10px"},finding:{margin:"20px",fontWeight:"bold"},cannel:{padding:"5px 15px",border:"1px solid blue",borderRadius:"10px",background:"none",outline:"none",fontWeight:"bold",marginTop:"10px"}},i=Object(c.useState)(!1),l=Object(a.a)(i,2),r=l[0],o=l[1];return Object(c.useEffect)((function(){t.on("finded",(function(n){n.id.includes(t.id)&&(t.emit("rfind",t.id),e.setCall(n))}))})),Object(s.jsx)("div",{class:"index",style:{textAlign:"center"},children:r?Object(s.jsxs)("div",{style:n.finding,children:[Object(s.jsx)("div",{children:"\u0110ang T\xecm Ng\u01b0\u1eddi L\u1ea1 ..."}),Object(s.jsx)("button",{style:n.cannel,onClick:function(){t.emit("rfind",t.id),o(!1)},children:"H\u1ee7y"})]}):Object(s.jsx)(O,{css:n,click:function(){t.emit("find",t.id),o(!0)}})})}function O(e){var t=e.css;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{style:t.alert,children:["B\u1ea5m n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3 b\u1eaft \u0111\u1ea7u chat v\xe0 xin h\xe3y l\u1ecbch s\u1ef1 v\xec t\u1ea5t c\u1ea3 \u0111\u1ec1u l\xe0 ng\u01b0\u1eddi th\u1eadt (^_^)!",Object(s.jsxs)("div",{style:t.info,children:["\u1ee8ng D\u1ee5ng \u0110\u01b0\u1ee3c Vi\u1ebft B\u1edfi ",Object(s.jsx)("a",{href:"http://fb.com/poker.0910",children:"Poker"})]})]}),Object(s.jsx)("button",{onClick:e.click,style:t.find,children:"B\u1eaft \u0110\u1ea7u Chat"})]})}function x(e){var t=i.a.useState(!1),n=Object(a.a)(t,2),c=n[0],l=n[1],r=i.a.useState([]),o=Object(a.a)(r,2),j=o[0],u=o[1];return Object(s.jsxs)("div",{class:"home",children:[Object(s.jsx)(d,{socket:e.socket,user:e.user}),c?Object(s.jsx)(h,{setCall:function(){l(!1)},user:e.user,data:j,socket:e.socket}):Object(s.jsx)(f,{setCall:function(e){u(e),l(!0)},socket:e.socket})]})}function p(e){var t=i.a.useState(""),n=Object(a.a)(t,2),c=n[0],l=n[1];return Object(s.jsx)("div",{class:"log",children:Object(s.jsxs)("div",{class:"form",children:[Object(s.jsx)("div",{class:"title",children:"\u0110\u0103ng Nh\u1eadp"}),Object(s.jsx)("input",{type:"text",placeholder:"Nh\u1eadp T\xean ...",onChange:function(e){return l(e.target.value)}}),Object(s.jsx)("input",{type:"button",onClick:function(){""==c?alert("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"):e.socket.emit("log",c,(function(t){t?alert("user t\u1ed3n t\u1ea1i"):e.setCall(c)}))},value:"\u0110\u0103ng Nh\u1eadp"})]})})}var g=j()();var v=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],i=t[1],l=Object(c.useState)(""),r=Object(a.a)(l,2),o=r[0],j=r[1];return Object(s.jsx)("div",{class:"app",children:n?Object(s.jsx)(x,{user:o,socket:g}):Object(s.jsx)(p,{setCall:function(e){j(e),i(!0)},socket:g})})};r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(v,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.28e1ee61.chunk.js.map