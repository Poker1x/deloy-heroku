(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{70:function(e,t,s){},71:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s(1),i=s.n(n),l=s(31),r=s.n(l),a=s(2),o=s(32),j=s.n(o);s(70);function d(e){return Object(c.jsxs)("div",{class:"header",children:[Object(c.jsx)("div",{class:"menu",children:Object(c.jsx)("i",{class:"far fa-bars"})}),Object(c.jsxs)("div",{class:"name",children:["Xin Ch\xe0o : ",Object(c.jsx)("span",{style:{fontWeight:"bold",color:"yellow"},children:e.user})]})]})}var u=s(33),b=s.n(u);function h(e){var t=e.socket,s=e.data.user,i=e.data.id,l=Object(n.useState)(!1),r=Object(a.a)(l,2),o=r[0],j=r[1],d=Object(n.useState)([]),u=Object(a.a)(d,2),h=u[0],O=u[1],f=Object(n.useState)(0),x=Object(a.a)(f,2),p=x[0],v=x[1],g=Object(n.useState)(!1),m=Object(a.a)(g,2),k=m[0],y=m[1],C=Object(n.useState)(window.innerHeight-150),S=Object(a.a)(C,2),T=S[0],w=S[1],N=s[0].id+"|"+s[1].id,H=i[0]==t.id?i[1]:i[0],E=b()("#main");return Object(n.useEffect)((function(){t.on("chat",(function(e){O(e.list),E.scrollTop(E.prop("scrollHeight"))}))})),Object(n.useEffect)((function(){t.on("dis",(function(e){e==H&&(h.push({user:"center",mes:"Ng\u01b0\u1eddi \u1ea4y \u0110\xe3 Tho\xe1t"}),O(h),E.scrollTop(E.prop("scrollHeight")),j(!0))}))})),Object(n.useEffect)((function(){t.on("sending",(function(){y(!0)})),t.on("dissend",(function(){y(!1)}))})),window.onresize=function(e){w(this.innerHeight-150),E.scrollTop(E.prop("scrollHeight"))},Object(c.jsxs)("div",{class:"room",children:[Object(c.jsxs)("div",{class:"bar",children:[Object(c.jsxs)("span",{class:"back",children:[" ",Object(c.jsx)("i",{class:"fas fa-long-arrow-left"})," "]})," ",Object(c.jsxs)("span",{class:"name",children:["Chat V\u1edbi : ",s[0].user==e.user?s[1].user:s[0].user]})]}),Object(c.jsxs)("div",{id:"main",class:"main",style:{height:T+"px"},children:[h.map((function(t){return Object(c.jsx)("div",{class:"lm",children:"center"==t.user?Object(c.jsx)("div",{class:"center",children:t.mes}):Object(c.jsx)("div",{class:t.user==e.user?"right":"left",children:"like"==t.mes?Object(c.jsx)("i",{class:"fal fa-thumbs-up"}):t.mes})})})),k&&Object(c.jsx)("div",{class:"lm",children:Object(c.jsx)("div",{class:"left",children:Object(c.jsxs)("div",{class:"spinner",children:[Object(c.jsx)("div",{class:"bounce1"}),Object(c.jsx)("div",{class:"bounce2"}),Object(c.jsx)("div",{class:"bounce3"})]})})})]}),Object(c.jsx)("div",{class:"form",children:o?Object(c.jsx)("button",{class:"cannel",onClick:function(){t.emit("disroom",H),e.setCall()},children:"Nh\u1ea5n \u0110\u1ec3 Tho\xe1t"}):Object(c.jsxs)("div",{class:"fl",children:[Object(c.jsx)("input",{type:"text",onChange:function(){return t.emit("sending",H)},placeholder:"Nh\u1eadp N\u1ed9i Dung ...",onKeyPress:function(s){if("Enter"===s.key){t.emit("dissend",H);var c=s.target.value;h.push({user:c,mes:c}),O(h),s.target.value="",v(p+1),E.scrollTop(E.prop("scrollHeight")),t.emit("chat",N,{user:e.user,mes:c})}}}),Object(c.jsx)("span",{class:"like",onClick:function(){t.emit("chat",N,{user:e.user,mes:"like"})},children:Object(c.jsx)("i",{class:"fal fa-thumbs-up"})})]})})]})}function O(e){var t=e.socket,s={alert:{padding:"15px"},find:{padding:"10px 20px",border:"1px solid blue",borderRadius:"10px",background:"none",outline:"none",fontSize:"20px",fontWeight:"500"},info:{fontWeight:"600",margin:"10px"},finding:{margin:"20px",fontWeight:"bold"},cannel:{padding:"5px 15px",border:"1px solid blue",borderRadius:"10px",background:"none",outline:"none",fontWeight:"bold",marginTop:"10px"}},i=Object(n.useState)(!1),l=Object(a.a)(i,2),r=l[0],o=l[1];return Object(n.useEffect)((function(){t.on("finded",(function(s){s.id.includes(t.id)&&(t.emit("rfind",t.id),e.setCall(s))}))})),Object(c.jsx)("div",{class:"index",style:{textAlign:"center"},children:r?Object(c.jsxs)("div",{style:s.finding,children:[Object(c.jsx)("div",{children:"\u0110ang T\xecm Ng\u01b0\u1eddi L\u1ea1 ..."}),Object(c.jsx)("button",{style:s.cannel,onClick:function(){t.emit("rfind",t.id),o(!1)},children:"H\u1ee7y"})]}):Object(c.jsx)(f,{css:s,click:function(){t.emit("find",t.id),o(!0)}})})}function f(e){var t=e.css;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{style:t.alert,children:["B\u1ea5m n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3 b\u1eaft \u0111\u1ea7u chat v\xe0 xin h\xe3y l\u1ecbch s\u1ef1 v\xec t\u1ea5t c\u1ea3 \u0111\u1ec1u l\xe0 ng\u01b0\u1eddi th\u1eadt (^_^)!",Object(c.jsxs)("div",{style:t.info,children:["\u1ee8ng D\u1ee5ng \u0110\u01b0\u1ee3c Vi\u1ebft B\u1edfi ",Object(c.jsx)("a",{href:"http://fb.com/poker.0910",children:"Poker"})]})]}),Object(c.jsx)("button",{onClick:e.click,style:t.find,children:"B\u1eaft \u0110\u1ea7u Chat"})]})}function x(e){var t=i.a.useState(!1),s=Object(a.a)(t,2),n=s[0],l=s[1],r=i.a.useState([]),o=Object(a.a)(r,2),j=o[0],u=o[1];return Object(c.jsxs)("div",{class:"home",children:[Object(c.jsx)(d,{user:e.user}),n?Object(c.jsx)(h,{setCall:function(){l(!1)},user:e.user,data:j,socket:e.socket}):Object(c.jsx)(O,{setCall:function(e){u(e),l(!0)},socket:e.socket})]})}function p(e){var t=i.a.useState(""),s=Object(a.a)(t,2),n=s[0],l=s[1];return Object(c.jsx)("div",{class:"log",children:Object(c.jsxs)("div",{class:"form",children:[Object(c.jsx)("div",{class:"title",children:"\u0110\u0103ng Nh\u1eadp"}),Object(c.jsx)("input",{type:"text",placeholder:"Nh\u1eadp T\xean ...",onChange:function(e){return l(e.target.value)}}),Object(c.jsx)("input",{type:"button",onClick:function(){e.socket.emit("log",n,(function(t){t?alert("user ton tai"):e.setCall(n)}))},value:"\u0110\u0103ng Nh\u1eadp"})]})})}var v=j()();var g=function(){var e=Object(n.useState)(!1),t=Object(a.a)(e,2),s=t[0],i=t[1],l=Object(n.useState)(""),r=Object(a.a)(l,2),o=r[0],j=r[1];return Object(c.jsx)("div",{class:"app",children:s?Object(c.jsx)(x,{user:o,socket:v}):Object(c.jsx)(p,{setCall:function(e){j(e),i(!0)},socket:v})})};r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.869ba64f.chunk.js.map