{"version":3,"sources":["components/Header.js","components/HomeComponents/Room.js","components/HomeComponents/HomeIndex.js","components/Home.js","components/Log.js","App.js","index.js"],"names":["Header","props","useState","list","setList","useEffect","socket","on","mes","class","style","fontWeight","color","user","length","Room","data","idd","id","isc","setIsc","rq","setRq","isSend","setSend","window","innerHeight","h","setHeight","ids","getId","main","$","scrollTop","prop","push","onresize","event","this","height","map","k","onClick","emit","setCall","type","onChange","placeholder","onKeyPress","key","nd","target","value","Index","css","alert","padding","find","border","borderRadius","background","outline","fontSize","info","margin","finding","cannel","marginTop","isFind","setFind","includes","textAlign","Ifind","click","href","Home","React","isRoom","setIs","setData","e","Log","setUser","io","App","login","setLogin","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.28e1ee61.chunk.js","sourcesContent":["import {useState,useEffect} from \"react\"\nexport default function Header(props){\n  const [list,setList] = useState(null);\n  useEffect(() => {\n    props.socket.on(\"online\",mes => {\n      setList(mes);\n    })\n  });\n  return (\n    <div class=\"header\">\n      <div class=\"menu\"><i class=\"far fa-bars\"></i></div>\n      <div class=\"name\">Xin Chào : <span style={{fontWeight:\"bold\",color:\"yellow\"}}>{props.user}</span> ( {list != null && list.length} online )</div>\n    </div>\n  )\n}","import React,{useState,useEffect} from \"react\";\nimport $ from \"jquery\";\n\nexport default function Room(props){\n  const socket = props.socket;\n  const user = props.data.user;\n  const idd = props.data.id;\n  const [isc,setIsc] = useState(false);\n  const [list,setList] = useState([]);\n  const [rq,setRq] = useState(0);\n  const [isSend,setSend] = useState(false);\n  const [h,setHeight] = useState(window.innerHeight-150);\n  const ids = user[0].id+\"|\"+user[1].id;\n  const getId = (idd[0] == socket.id) ? idd[1] : idd[0];\n      \n  \n  const main = $(\"#main\");\n  useEffect(()=>{\n    socket.on(\"chat\",mes => {\n      setList(mes.list);\n      main.scrollTop(main.prop(\"scrollHeight\"));\n    })\n  });\n  useEffect(()=> {\n    socket.on(\"dis\",mes => {\n      if(mes == getId){\n        list.push({user:\"center\",mes:\"Người Ấy Đã Thoát\"});\n        setList(list);\n        main.scrollTop(main.prop(\"scrollHeight\"));\n        setIsc(true);\n      }\n    })\n  });\n  useEffect(()=>{\n    socket.on(\"sending\",()=>{\n      setSend(true);\n    })\n    socket.on(\"dissend\",()=>{\n      setSend(false);\n    })\n  });\n  function like(){\n    \n    socket.emit(\"chat\",ids,{\n        user : props.user,\n        mes : 'like'\n      });\n  }\n  function chat(event){\n    if(event.key === 'Enter'){\n      socket.emit(\"dissend\",getId)\n      var nd = event.target.value;\n      \n      event.target.value = \"\";\n      setRq(rq+1);\n      main.scrollTop(main.prop(\"scrollHeight\"));\n      socket.emit(\"chat\",ids,{\n        user : props.user,\n        mes : nd\n      });\n    }\n  }\n  window.onresize = function(event) {\n    setHeight(this.innerHeight-150);\n    main.scrollTop(main.prop(\"scrollHeight\"));\n  }\n  \n  return (\n    <div class=\"room\">\n      <div class=\"bar\"><span class=\"back\"> <i class=\"fas fa-long-arrow-left\"></i> </span> <span class=\"name\">Chat Với : {user[0].user == props.user ? user[1].user : user[0].user}</span></div>\n      <div id=\"main\"class=\"main\"style={{height:h+\"px\"}}>\n      \n      { list.map(k => \n        <div class=\"lm\">\n          { k.user == \"center\"\n          ? <div class=\"center\">{k.mes}</div>\n          : <div class={k.user == props.user ? 'right' : 'left'}>{k.mes == \"like\" ? <i class=\"fal fa-thumbs-up\"></i> : k.mes}</div>\n          }\n        </div>\n        \n      ) }\n      { isSend && <div class=\"lm\"><div class=\"left\"><div class=\"spinner\">\n          <div class=\"bounce1\"></div>\n          <div class=\"bounce2\"></div>\n          <div class=\"bounce3\"></div>\n          </div></div></div>\n      }\n      </div>\n      <div class=\"form\">\n        { isc \n        ? <button class=\"cannel\"onClick={()=> {socket.emit(\"disroom\",getId);props.setCall() }}>Nhấn Để Thoát</button>\n        : <div class=\"fl\"><input type=\"text\"onChange={()=> socket.emit(\"sending\",getId) }placeholder=\"Nhập Nội Dung ...\"onKeyPress={chat}/><span class=\"like\"onClick={like}><i class=\"fal fa-thumbs-up\"></i></span></div>\n        }\n      </div>\n    </div>\n  )\n}","import React,{useState,useEffect} from \"react\";\n\nexport default function Index(props){\n  const socket = props.socket\n  const css = {\n    alert : {\n      padding : \"15px\",\n    },\n    find :{\n      padding : \"10px 20px\",\n      border : \"1px solid blue\",\n      borderRadius : \"10px\",\n      background : \"none\",\n      outline :\"none\",\n      fontSize : \"20px\",\n      fontWeight : \"500\"\n    },\n    info : {\n      fontWeight : \"600\",\n      margin : \"10px\"\n    },\n    finding : {\n      margin : \"20px\",\n      fontWeight : \"bold\"\n    },\n    cannel : {\n      padding : \"5px 15px\",\n      border : \"1px solid blue\",\n      borderRadius : \"10px\",\n      background : \"none\",\n      outline :\"none\",\n      fontWeight : \"bold\",\n      marginTop : \"10px\"\n    }\n  }\n  \n  const [isFind,setFind] = useState(false);\n  function find(){\n    socket.emit(\"find\",socket.id);\n    setFind(true);\n  }\n  function cannel(){\n    socket.emit(\"rfind\",socket.id);\n    setFind(false);\n  }\n  useEffect(()=> {\n    socket.on(\"finded\",mes => {\n      if(mes.id.includes(socket.id)){\n        socket.emit(\"rfind\",socket.id);\n        props.setCall(mes);\n      }\n    })\n  });\n  return (\n    <div class=\"index\"style={{textAlign:\"center\"}}>\n      { isFind\n      ? <div style={css.finding}>\n          <div>Đang Tìm Người Lạ ...</div>\n          <button style={css.cannel}onClick={cannel}>Hủy</button>\n        </div>\n      : <Ifind css={css}click={find}/>\n      }\n    </div>\n  )\n}\nfunction Ifind(props){\n  const css = props.css;\n  return (\n    <div>\n    <div style={css.alert}>\n      Bấm nút bên dưới để bắt đầu chat và xin hãy lịch sự vì tất cả đều là người thật (^_^)!\n      <div style={css.info}>Ứng Dụng Được Viết Bởi <a href='http://fb.com/poker.0910'>Poker</a></div>\n    </div>\n    <button onClick={props.click}style={css.find}>Bắt Đầu Chat</button>\n    </div>\n  )\n}","import React from \"react\";\nimport Header from \"./Header\";\nimport { Room,Index } from \"./HomeComponents\";\n\nexport default function Home(props){\n  const [isRoom,setIs] = React.useState(false);\n  const [data,setData] = React.useState([]);\n  function getCall(e){\n    setData(e);\n    setIs(true);\n  }\n  function getCall2(){\n    setIs(false);\n  }\n  return (\n    <div class=\"home\">\n      <Header socket={props.socket}user={props.user} />\n      { isRoom ? <Room setCall={getCall2}user={props.user}data={data}socket={props.socket}/> : <Index setCall={getCall}socket={props.socket}/> }\n    </div>\n  )\n}","import React from \"react\";\n\nexport default function Log(props){\n  const [user,setUser] = React.useState(\"\");\n  function click(){\n    if(user == \"\"){\n      alert(\"Không được để trống\")\n    } else {\n    props.socket.emit(\"log\",user,mes => {\n      if(mes){\n        alert(\"user tồn tại\");\n      } else {\n        props.setCall(user);\n      }\n    })\n  }\n  }\n  return (\n    <div class=\"log\">\n      <div class=\"form\">\n        <div class=\"title\">Đăng Nhập</div>\n        <input type=\"text\"placeholder=\"Nhập Tên ...\"onChange={(e)=>setUser(e.target.value)} />\n        <input type=\"button\"onClick={click}value=\"Đăng Nhập\"/>\n      </div>\n    </div>\n  )\n}","import React,{useState,useEffect} from \"react\";\nimport io from \"socket.io-client\";\nimport './App.css';\nimport { Header,Home,Log } from \"./components\";\n\nconst socket = io();\n\nfunction App(){\n  const [login,setLogin] = useState(false);\n  const [user,setUser] = useState(\"\");\n  function getCall(e){\n    setUser(e);\n    setLogin(true);\n  }\n  return (\n    <div class=\"app\">\n      { login ? <Home user={user}socket={socket} /> : <Log setCall={getCall}socket={socket} /> }\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}